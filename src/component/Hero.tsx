'use client';
import gsap from "gsap";
import { useGSAP } from "@gsap/react";
import { useRef,useState,useEffect  } from "react";

export default function Hero() {
    const heroScreenRef = useRef(null);
    const [windowWidth, setWindowWidth] = useState(0);

    useEffect(() => {
        const handleResize = () => {
            setWindowWidth(window.innerWidth);
        };

        window.addEventListener("resize", handleResize);

        handleResize();

        return () => window.removeEventListener("resize", handleResize);
    }, []);

    useGSAP(() => {
        const tl = gsap.timeline();

        tl.set(".name path", { 
            stroke: "#000", 
            strokeWidth: 1,
            fill: "none",
            strokeLinecap: "round",
            opacity: 0,
            strokeDasharray: function(index, element) {
                return element.getTotalLength();
            },
            strokeDashoffset: function(index, element) {
                return element.getTotalLength();
            }
        });

        tl.to(".name path", {
            strokeDashoffset: 0,
            opacity: 1,
            duration: 2.5,
            ease: "power2.inOut",
            stagger: 0
        })

        .to(".name path", {
            duration: 0.3,
            fill: "grey",
            stroke: "transparent",
            ease: "power3.inOut"
        }, "-=0.2")

    }, { scope: heroScreenRef })

    return (
        <>
            <div ref={heroScreenRef} className="hero flex items-center justify-center text-white h-screen w-full">
                <div className="name w-[69vw]">
                    <svg viewBox="0 0 239 47" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M0.0319977 6.51202C0.0319977 4.59202 0.671998 3.14136 1.952 2.16002C3.27466 1.13602 5.19466 0.624023 7.712 0.624023V20.08H28.064V6.51202C28.064 4.59202 28.7253 3.14136 30.048 2.16002C31.3707 1.13602 33.2907 0.624023 35.808 0.624023V40.688C35.808 42.5654 35.1467 44.016 33.824 45.04C32.5013 46.064 30.5813 46.576 28.064 46.576V26.8H7.712V40.688C7.712 42.608 7.05067 44.08 5.728 45.104C4.448 46.0854 2.54933 46.576 0.0319977 46.576V6.51202Z" fill="white"/>
                        <path d="M46.342 4.72002C46.342 3.73869 46.7047 2.90669 47.43 2.22403C48.198 1.54136 49.1367 1.20002 50.246 1.20002H67.462C71.8993 1.20002 75.3767 2.41602 77.894 4.84803C80.454 7.28003 81.734 10.6294 81.734 14.896C81.734 17.4134 81.2007 19.5467 80.134 21.296C79.0673 23.0027 77.4673 24.368 75.334 25.392V25.648C77.2113 26.4587 78.6407 27.6747 79.622 29.296C80.6033 30.8747 81.094 32.8374 81.094 35.184V40.688C81.094 42.608 80.4327 44.08 79.11 45.104C77.83 46.0854 75.9313 46.576 73.414 46.576V35.504C73.414 30.896 71.4513 28.592 67.526 28.592H53.958V40.688C53.958 42.608 53.2967 44.08 51.974 45.104C50.694 46.0854 48.8167 46.576 46.342 46.576V4.72002ZM67.142 22C69.2753 22 70.9393 21.3814 72.134 20.144C73.3713 18.864 73.99 17.0934 73.99 14.832C73.99 10.1387 71.7073 7.79203 67.142 7.79203H53.958V22H67.142Z" fill="white"/>
                        <path d="M109.892 46.576C106.351 46.576 103.172 45.872 100.356 44.464C97.54 43.0134 95.3213 41.0294 93.7 38.512C92.1213 35.9947 91.332 33.1574 91.332 30V6.51202C91.332 4.59202 91.972 3.14136 93.252 2.16002C94.5747 1.13602 96.4947 0.624023 99.012 0.624023V30C99.012 32.9867 99.9933 35.376 101.956 37.168C103.961 38.9174 106.607 39.792 109.892 39.792C113.135 39.792 115.737 38.896 117.7 37.104C119.705 35.312 120.708 32.944 120.708 30V6.51202C120.708 4.59202 121.348 3.14136 122.628 2.16002C123.951 1.13602 125.871 0.624023 128.388 0.624023V30C128.388 33.1574 127.577 35.9947 125.956 38.512C124.377 41.0294 122.18 43.0134 119.364 44.464C116.548 45.872 113.391 46.576 109.892 46.576Z" fill="white"/>
                        <path d="M155.736 46.576C151.981 46.576 148.717 46.0854 145.944 45.104C143.171 44.1227 141.037 42.7787 139.544 41.072C138.093 39.3654 137.368 37.4027 137.368 35.184C137.368 31.728 139.544 30 143.896 30C143.981 33.3707 145.048 35.9307 147.096 37.68C149.187 39.4294 152.109 40.304 155.864 40.304C159.149 40.304 161.688 39.7494 163.48 38.64C165.272 37.5307 166.168 35.9307 166.168 33.84C166.168 32.5174 165.827 31.4507 165.144 30.64C164.461 29.7867 163.309 29.04 161.688 28.4C160.067 27.7174 157.72 27.0347 154.648 26.352C150.552 25.456 147.309 24.4107 144.92 23.216C142.573 22.0214 140.867 20.592 139.8 18.928C138.733 17.264 138.2 15.1947 138.2 12.72C138.2 10.3307 138.904 8.21869 140.312 6.38403C141.72 4.54936 143.704 3.14136 146.264 2.16002C148.824 1.13602 151.789 0.624023 155.16 0.624023C158.36 0.624023 161.24 1.07202 163.8 1.96803C166.36 2.82136 168.365 4.03736 169.816 5.61602C171.267 7.19469 171.992 9.00802 171.992 11.056C171.992 14 169.923 15.536 165.784 15.664C165.443 12.592 164.419 10.352 162.712 8.94402C161.048 7.53602 158.531 6.83202 155.16 6.83202C152.173 6.83202 149.869 7.34402 148.248 8.36803C146.627 9.39203 145.816 10.8427 145.816 12.72C145.816 14 146.115 15.0667 146.712 15.92C147.352 16.7307 148.397 17.456 149.848 18.096C151.299 18.6934 153.389 19.2907 156.12 19.888C160.472 20.8694 163.928 21.9787 166.488 23.216C169.048 24.4107 170.883 25.8614 171.992 27.568C173.144 29.232 173.72 31.3227 173.72 33.84C173.72 36.4427 172.973 38.704 171.48 40.624C170.029 42.544 167.939 44.016 165.208 45.04C162.52 46.064 159.363 46.576 155.736 46.576Z" fill="white"/>
                        <path d="M182.897 6.51202C182.897 4.59202 183.537 3.14136 184.817 2.16002C186.14 1.13602 188.06 0.624023 190.577 0.624023V20.08H210.929V6.51202C210.929 4.59202 211.59 3.14136 212.913 2.16002C214.236 1.13602 216.156 0.624023 218.673 0.624023V40.688C218.673 42.5654 218.012 44.016 216.689 45.04C215.366 46.064 213.446 46.576 210.929 46.576V26.8H190.577V40.688C190.577 42.608 189.916 44.08 188.593 45.104C187.313 46.0854 185.414 46.576 182.897 46.576V6.51202Z" fill="white"/>
                        <path d="M230.487 6.51202C230.487 4.63469 232.177 3.18402 233.5 2.16002C234.865 1.13602 235.735 0.624023 238.167 0.624023V40.624C238.167 42.5014 237.506 43.9734 236.183 45.04C234.86 46.064 232.962 46.576 230.487 46.576V6.51202Z" fill="white"/>
                    </svg>
                </div>
           </div>
        </>
    );
}